<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E Library Login</title>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script>
      // Initialize Firebase App and Authentication
      const firebaseConfig = {
        apiKey: "AIzaSyD2UawbUSvZgheQ89kQT9FvL-UZfu1UxZo",
        authDomain: "asep-project-f4b23.firebaseapp.com",
        projectId: "asep-project-f4b23",
        storageBucket: "asep-project-f4b23.appspot.com",
        messagingSenderId: "404098472129",
        appId: "1:404098472129:web:2eaa5d9240f8d732d59c40",
        measurementId: "G-580RFQEW5V"
      };

      // Initialize Firebase
      const app = firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const provider = new firebase.auth.GoogleAuthProvider();

      // Google Sign-In
      function handleGoogleLogin() {
  auth.signInWithPopup(provider)
    .then((result) => {
      const user = result.user;
      const email = user.email;

      // Log the email to the console
      console.log("Logged in email:", email);

      // Store email in sessionStorage
      sessionStorage.setItem("userEmail", email);

      // Restrict login to the domain @vit.edu
      const allowedDomain = "vit.edu";
      if (email.split("@")[1] === allowedDomain) {
        user.getIdToken().then((token) => {
          // Store token in localStorage
          localStorage.setItem("userToken", token);

          // Redirect to Home
          window.location.href = "./Home.html";
        });
      } else {
        alert("Only users with the '@vit.edu' domain are allowed to log in.");
        auth.signOut();
      }
    })
    .catch((error) => {
      alert("Login failed. Please try again.");
      console.error("Login failed:", error.message);
    });
}


      // Handle regular login button click
      function handleLoginClick(event) {
        event.preventDefault();
        alert("The Login option is under maintenance. Use the option 'Browse without Sign In'");
      }

      // Redirect to Home.html when "Browse without Sign In" is clicked
      function redirectToHome() {
        window.location.href = "Home.html";
      }

      // Add logout logic if necessary (optional)
    </script>
   <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: url('./image.webp') no-repeat center center/cover;
      position: relative;
    }
  
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      z-index: 1;
    }
  
    .container {
      display: flex;
      width: 90%;
      max-width: 1200px;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      animation: fadeIn 1s ease-in-out;
      position: relative;
      z-index: 2;
    }
  
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  
    .left {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: rgba(240, 248, 255, 0.9);
      padding: 30px;
      text-align: center;
    }
  
    .left img {
      width: 80%;
      max-width: 400px;
      animation: bounce 2s infinite;
    }
  
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-10px);
      }
      60% {
        transform: translateY(-5px);
      }
    }
  
    .left h2 {
      font-size: 30px;
      margin-top: 20px;
      color: #333;
      font-weight: 700;
    }
  
    .left p {
      font-size: 16px;
      color: #555;
      margin-top: 10px;
      font-style: italic;
    }
  
    .right {
      flex: 1;
      padding: 50px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
  
    .right h1 {
      margin-bottom: 20px;
      color: #333;
      font-size: 32px;
      font-weight: 600;
    }
  
    .input-box {
      margin: 15px 0;
    }
  
    .input-box input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 16px;
      background: #f9f9f9;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
      transition: border 0.3s;
    }
  
    .input-box input:focus {
      border-color: #66a6ff;
      outline: none;
    }
  
    .btn {
      width: 100%;
      padding: 14px;
      margin: 15px 0;
      font-size: 18px;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s ease;
    }
  
    .btn:hover {
      transform: scale(1.05);
    }
  
    .btn.google-login {
      background-color: #db4437;
    }
  
    .btn.google-login:hover {
      background-color: #b53229;
    }
  
    .btn.default {
      background-color: #007bff;
    }
  
    .btn.default:hover {
      background-color: #0056b3;
    }
  
    .remember-forgot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }
  
    .register-link p {
      font-size: 14px;
    }
  
    .register-link a {
      color: #007bff;
      text-decoration: none;
      font-weight: bold;
    }
  
    .register-link a:hover {
      text-decoration: underline;
    }
  
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        height: auto;
      }
  
      .left {
        padding: 20px;
      }
  
      .right {
        padding: 20px;
      }
    }
  </style>
  
  </head>
  <body>
    <div class="container">
      <div class="left">
      
        <h2>Welcome VITiaans !</h2>
  <p>
    Unlock your potential with the vast resources available at our library. Whether you're diving into research, preparing for exams, or exploring new interests, the library is your gateway to knowledge and innovation. 
  </p>
  <p>
    Make the most of this treasure trove of books, journals, and digital tools designed to help you succeed. Visit today and discover a world of opportunities waiting for you!
  </p>
  </div>
  <div class="right" style="
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  --blue: #5e72e4;
  --indigo: #5603ad;
  --purple: #8965e0;
  --pink: #f3a4b5;
  --red: #f5365c;
  --orange: #fb6340;
  --yellow: #ffd600;
  --green: #2dce89;
  --teal: #11cdef;
  --cyan: #2bffc6;
  --gray: #6A6A6A;
  --gray-dark: #323232;
  --lighter: #fff;
  --light-primary: #8F0700;
  --gray-badge: #A7A7A7;
  --new-primary: #A0332D;
  --primary: #A0332D;
  --secondary: #D6A64F;
  --success: #2dce89;
  --info: #11cdef;
  --warning: #fb6340;
  --danger: #f5365c;
  --light: #f5f5f5;
  --dark: #212529;
  --default: #363636;
  --white: #fff;
  --neutral: #fff;
  --darker: black;
  --breakpoint-xs: 0;
  --breakpoint-sm: 576px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 992px;
  --breakpoint-xl: 1200px;
  --font-family-sans-serif: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  font-family: 'Open Sans', sans-serif;
  font-weight: 400;
  line-height: 1.5;
  color: #525f7f;
  text-align: left;
  box-sizing: border-box;
  border-radius: 1rem;
  background-color: white;
  max-height: 600px;
  margin: 0;
  padding: 1.2rem;
  font-size: 12px;
  flex: 0 0 30%;
">
  <section class="simple-signin">
      <h3 class="text-muted text-center">Sign-in</h3>
      <p class="text-muted text-center">
          Sign-in using the Google account you registered with to access your application or course dashboard.
      </p>
      <p class="text-muted text-center">
          Registered learners who have been provided with a student email ID, which is google enabled, should
          sign-in using their student email ID.
      </p>
  </section>
  <section class="mb-4">
      <form action="/auth/login?next=" method="POST" class="form-signin">
          <div id="firebaseui-auth-container" lang="en">
              <div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner">
                  <div class="firebaseui-card-content">
                      <form onsubmit="return false;">
                          <ul class="firebaseui-idp-list">
                              <li class="firebaseui-list-item">
                                  <button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-google firebaseui-id-idp-button" data-provider-id="google.com" data-upgraded=",MaterialButton">
                                      <span class="firebaseui-idp-icon-wrapper">
                                          <img class="firebaseui-idp-icon" alt="" src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
                                      </span>
                                      <span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with Google</span>
                                      <span class="firebaseui-idp-text firebaseui-idp-text-short">Google</span>
                                  </button>
                              </li>
                          </ul>
                      </form>
                  </div>
                  <div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">
                      <p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>
                  </div>
              </div>
          </div>
          <div id="loader" style="display: none;">Loading...</div>
      </form>
  </section>
</div>

  </body>
</html>
